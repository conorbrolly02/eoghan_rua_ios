
name: iOS Build (Briefcase)

on:
  workflow_dispatch:

jobs:
  build-ios:
    runs-on: macos-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4

     -version: "3.11"      - name: Set up Python

      - name: Install Briefcase
        run: |
          python -m pip install --upgrade pip
          pip install briefcase

      - name: Create iOS Xcode project
        run: |
          briefcase create iOS

      - name: Build iOS
        run: |
          briefcase build iOS

      # Signing/export steps go here once Apple Dev credentials are provided:
      # - Decode certificates from secrets
      # - xcodebuild archive & export
      # - Upload artifact

      - name: Archive Xcode project (unsigned)
        run: |
          cd ios/Eoghan Rua Team Selector
          xcodebuild -scheme "Eoghan Rua Team Selector" -configuration Release -archivePath build/EoghanRua.xcarchive archive

      - name: Upload Xcode archive (unsigned)
        uses: actions/upload-artifact@v4
        with:
          name: EoghanRua-xcarchive
          path: ios/Eoghan\ Rua\ Team\ Selector/build/EoghanRua.xcarchive
        uses: actions/setup-python@v5
        with:
